# Qualitative Analyse der neuen Architektur mit Bezug zur aktuellen

Die neue Multi-Tenant fähige Architektur bringt einige Änderungen mit sich, hinsichtlich der in Kapitel 4.5 analysierten Punkte im Vergleich zur aktuellen Architektur.
Auf diese soll nachfolgend eingegangen und festgestellt werden inwieweit durch Multi-Tenant eine Veränderung des Systems möglich ist. 

Durch das MVC Pattern können die Komponenten (Model, View, Controller) der aktuellen Architektur weitestgehend übernommen wurde. Aufgrund der Namenskonventionen bei CakePHP ist es grundsätzlich erforderlich, dass alle Komponenten im zugehörigen App Ordner der Instanz liegen. Dies sorgt für eine Abhängikeit hinsichtlich der Ordnerstruktur, welche bei Multi-Tenant vornehmlich bei den Views aufgetreten ist. Da Model und Controller für alle Tenants gleich sind können diese an einer Stelle abgelegt und aufgerufen werden. Bei den Views hingegen sind individualisierte Sichten enthalten, welche bei jedem Tenant abweichen. Hier zeigt sich ein Nachteil des MVC Prinzips in CakePHP bei der Migration in eine Multi-Tenant Anwendung. Die Views müssen unter Multi-Tenant weiterhin in eigenen Tenant Ordnern als Dateien bestehen. Um an die richtige Stelle für die View zu gelangen wird bei den erforderlichen Actions der View Pfad neu gesetzt. Bei jedem Aufruf der individuellen Views entsteht somit über alle Tenants und den gesamten Server gesehen ein hoher Datenverkehr, da zu anderen Verzeichnissen navigiert werden muss.

Bei der Infrastrukur ermöglich Multi-Tenant weniger Verwaltungs- sowie Wartungsaufwand, da lediglich ein Server mit einer zugehörigen Datenbank benötigt wird. Dies ist vorerst unabhängig davon ob mit der Migration in eine Multi-Tenant Architektur auch eine Cloud Migration einher geht, wobei die effizienten Skalierungsmöglichkeiten erst in der Cloud genutzt werden können. Zudem fällt der gesamte Verwaltungs- sowie Wartungsaufwand bei einer Migration in die Cloud für die zu betreibenden Ressourcen weg. Des weiteren ist durch die Cloud Infrastruktur ein bedarfsgerechtes Skalieren zu hoch oder niedrig frequentierten Zeiten, welche bei TeamSports2 den Analysen nach sehr häufig vorkommen, überhaupt erst möglich. Mithilfe von Aurora Serverless, einem Service zur automatischen Skalierung der Datenbank, kann beispielsweise nachts die minimal notwendige Kapazität der Datenbank bereitgestellt werden und diese dann zu Tagesbeginn wieder erhöht werden.

Das Deployment ist aufgrund der initialen Codebasis mit allen allgemeinen Controllern, Views und Models sehr viel verwaltungsärmer und leichter zu handhaben. Keine Komponenten müssen durch die Multi-Tenant Architektur auf alle Instanzen parallel deployed werden, da die angesprochene Codebasis für alle Tenants verfügbar ist und auch die inviduellen Views lediglich aus Elementen bestehen, welche wiederum zentral in einem Ordner für alle Tenants zur Verfügung stehen. Updates bezüglich der Model, Views, Controller und Elementen sind somit schneller und unkomplizierter zu implementieren.
Um Releases und Update für die Tenants zu setzen können beliebige Entwicklungs-Tenants aufgesetzt werden. Somit ist es möglich unter Produktivbedingungen, mit dem entsprechenden Server und der Produktivdatenbank Code zu entwickeln. Allerdings muss beachtet werden, dass zwar die Entwicklungstenants von den Produktivtenants losgelöst sind, die Änderungen an MVC oder der Datenbank sich aber auch auf alle Produktivtenants auswirken. Hierfür sollte ein Konzept erarbeitet werden, beispielsweise mit einer replizierten Entwicklungsdatenbank und den zugehörigen MVC Komponenten, damit unabhängig von den Produktivenants getestet werden kann.

